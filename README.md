# DuoRead (旧称: 没入型翻訳)

<div align="center">
  <img src="icons/icon128.png" alt="DuoRead Logo" width="128" />
  <h1>DuoRead</h1>
</div>

**原文を残しながら日本語翻訳をインライン表示するバイリンガル翻訳Chrome拡張機能**

DuoRead（デュオリード）は、英語のWebサイトを英語の原文と日本語訳を併記して表示し、学習や技術情報の収集をサポートするChrome拡張機能です。
特に技術文書や論文など、正確な理解が必要な場面で威力を発揮します。

---

## 🚀 主な機能

### 1. バイリンガル表示 (Bilingual View)
英語の段落ごとに日本語翻訳を挿入します。原文を確認しながら読めるため、翻訳ミスに気づきやすく、英語学習にも最適です。

### 2. 技術文書フレンドリー (Format Protection)
技術記事や論文を読む際のストレスを解消します。
- **数式保護**: `MathJax` や `KaTeX` などの数式は翻訳されずにそのまま表示されます（インライン表示）。
- **コードブロック保護**: `<code>` や `<pre>` 内のプログラムコードは翻訳対象から除外されます。
- **表保護**: テーブル (`<table>`) 全体を翻訳対象から除外し、レイアウト崩れを防ぎます。

### 3. 高速 & 軽量 (High Performance)
- **翻訳キャッシュ**: 一度翻訳したテキストはローカル (`chrome.storage.local`) に保存され、次回表示時は瞬時に翻訳されます。
- **APIコスト削減**: キャッシュ機能により、外部APIへのリクエスト数を最小限に抑えます。

### 4. 選択テキスト翻訳 (Selection Translation)
ページ内のテキストを選択すると翻訳アイコンが表示され、クリックするとその部分だけをポップアップで翻訳できます。

## 📦 インストール方法

現在、Chromeウェブストアには公開されていません。以下の手順で「デベロッパーモード」からインストールしてください。

1. このリポジトリを適当な場所にクローンまたはダウンロードし、解凍します。
2. Google Chrome を開き、アドレスバーに `chrome://extensions/` と入力してアクセスします。
3. 右上の **「デベロッパーモード」** スイッチをオンにします。
4. 左上の **「パッケージ化されていない拡張機能を読み込む」** をクリックします。
5. ダウンロードしたフォルダ（`manifest.json` が含まれているフォルダ）を選択します。

## 📖 使い方

### ページ全体を翻訳
1. 英語のWebページを開きます。
2. 以下のいずれかの操作で翻訳を開始します：
   - 拡張機能アイコンをクリックし、**「翻訳開始」** ボタンを押す
   - ショートカットキー **`Alt + T`** (Windows/Linux) / **`Option + T`** (Mac) を押す
3. ページ内の英語が段落ごとに翻訳され、バイリンガル表示になります。

### 部分翻訳
1. 翻訳したいテキストをマウスで選択します。
2. 選択範囲の近くに表示される **DuoReadアイコン** をクリックします。
3. ポップアップウィンドウで翻訳結果が表示されます。

## 🛠️ 開発者向け情報

### 技術スタック
- **Manifest V3**: 最新のChrome拡張機能仕様に準拠
- **JavaScript (Vanilla)**: フレームワークを使用しない軽量実装
- **CSS**: ダークモード対応のモダンなスタイリング

### ディレクトリ構成
```
/
├── manifest.json       # 設定ファイル (Manifest V3)
├── background.js       # バックグラウンド処理 (翻訳API通信、キャッシュ)
├── content.js          # コンテンツスクリプト (DOM操作、テキスト抽出)
├── content.css         # ページ内スタイル
├── popup/              # ポップアップUI
│   ├── popup.html
│   ├── popup.css
│   └── popup.js
└── icons/              # アプリアイコン
```

## 📝 ライセンス
[MIT License](LICENSE)
